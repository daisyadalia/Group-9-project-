#include <iostream>
#include <iomanip>
#include <vector>
#include <string>
#include <algorithm> 
#include <fstream>   
using namespace std;


const int MAX_STUDENTS_PER_GROUP = 50;
const int MAX_STUDENTS_PER_SPORT = 20;
const int MAX_MEMBERS_PER_CLUB = 60;
const double MAX_PERCENTAGE_MALE_SPORT = 0.75;
const double MAX_PERCENTAGE_MALE_CLUB = 0.5;


struct Student {
    string firstname;
    string surname;
    string gender;
    int age;
    int bbitGroup;
    int sportIndex;           
    vector<int> clubIndices;  
};

struct Activity {
    string name;
    int currentCapacity;
    int maxCapacity;
    vector<int> members;  
};


vector<Student> students;
vector<Activity> sports;
vector<Activity> clubsSocieties;


void displayMenu();
void addStudent();
void viewStudents();
void viewClubsSocieties();
void viewSports();
void viewGroupedStudents();
void saveData();
void assignActivity(Student& student);
bool isMaleExceedPercentage(const Activity& activity, const Student& student, double maxPercentage);
void displayActivities(const vector<Activity>& activities);
void displayStudentsByGroup(int group);
void loadData(); 

int main() {
    loadData();  

    int choice;
    do {
        displayMenu();
        cin >> choice;

        switch (choice) {
            case 1:
                addStudent();
                break;
            case 2:
                viewStudents();
                break;
            case 3:
                viewClubsSocieties();
                break;
            case 4:
                viewSports();
                break;
            case 5:
                viewGroupedStudents();
                break;
            case 6:
                saveData();
                break;
            case 7:
                cout << "Exiting program..." << endl;
                break;
            default:
                cout << "Invalid choice. Please enter a valid option." << endl;
        }
    } while (choice != 7);

    return 0;
}

void displayMenu() {
    cout << "===== Co-curricular Activities Management =====" << endl;
    cout << "1. Add Student" << endl;
    cout << "2. View Students" << endl;
    cout << "3. View Clubs/Societies" << endl;
    cout << "4. View Sports" << endl;
    cout << "5. View Grouped Students" << endl;
    cout << "6. Save all Files" << endl;
    cout << "7. Exit" << endl;
    cout << "Enter your choice: ";
}


